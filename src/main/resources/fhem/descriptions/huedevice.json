{
	"information": {
		"filename": "fs20.json",
		"description": "Mapping instructions for the FHEM module 'FS20'",
		"author": "Philipp Trenz",
		"last_edited": "2017-04-19"
	},
	"device_id": {
		"key_path": "Name"
	},
	"type_id": {
		"key_path": "Internals/TYPE"
	},
	"rooms": {
		"key_path": "Attributes/room",
		"delimiters": ","
	},
	"groups": {
		"key_path": "Attributes/group",
		"delimiters": ","
	},
	"functions": {
		"get": [
			{
				"function_id": "OnOff",
				"requirements": [
					{
						"mode": "one_of",
						"key_path": "Attributes/subType",
						"attributes": [
							"switch",
							"dimmer",
							"ctdimmer",
							"colordimmer",
							"extcolordimmer"
						]
					}
				],
				"properties": [
					{
						"value_name":"isOn",
						"value_type": "boolean",
						"default": false,
						"key_path": "Readings/onoff/Value",
						"cases": [
							{
								"extract_mode": "direct",
								"value": true,
								"regex": [
									"1"
								]
							},
							{
								"extract_mode": "direct",
								"value": false,
								"regex": [
									"0"
								]
							}
						]
					},
					{
						"value_name": "timestamp",
						"value_type": "date-time",
						"key_path": "Readings/state/Time",
						"format": "yyyy-MM-dd HH:mm:ss"
					}
				]
			},
			{
				"function_id": "Dimmer",
				"requirements": [
					{
						"mode": "one_of",
						"key_path": "Attributes/subType",
						"attributes": [
							"dimmer",
							"ctdimmer",
							"colordimmer",
							"extcolordimmer"
						]
					}
				],
				"properties": [
					{
						"value_name": "value",
						"value_type": "integer",
						"default": 0,
						"key_path": "Readings/pct/Value",
						"cases": [
							{
								"extract_mode": "range",
								"minimum": 0,
								"maximum": 255,
								"regex": "(.*)"
							}
						]
					},
					{
						"value_name": "timestamp",
						"value_type": "date-time",
						"key_path": "Readings/sat/Time",
						"format": "yyyy-MM-dd HH:mm:ss"
					}
				]
			}
		],
		"set": [
			{
				"function_id": "OnOff",
				"properties": [
					{
						"value_name": "isOn",
						"value_type": "boolean",
						"command_type":"set",
						"reading":"",
						"cases": [
							{
								"inject_mode": "direct",
								"value": true,
								"parameter": "on"
							},
							{
								"inject_mode": "direct",
								"value": false,
								"parameter": "off"
							}
						]
					}
				]
			},
			{
				"function_id": "Dimmer",
				"properties": [
					{
						"value_name": "value",
						"value_type": "integer",
						"command_type":"set",
						"reading":"pct",
						"cases": [
							{
								"inject_mode": "range",
								"minimum": 0,
								"maximum": 100,
								"prefix": "",
								"suffix": ""
							}
						]
					}
				]
			}
		]
	}
}