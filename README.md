<img src="img/logo.png" alt="our logo" width="400">

The conex.io API provides the functionality to interact with home automation devices, which are connected to a home automation server, detached from the manufacturer specific communication syntax.

This is a prototypical implemementation for the home automation server [FHEM](https://fhem.de/).

## Overview  

...

## Get started

The API uses `jsonlist2` and the longpoll mode `websocket` from the FHEM module `FHEMWEB` to connect to your FHEM installation.
Therefor define a new FHEMWEB device, set attributes `longpoll` to `websocket` and `csrfToken` to `none` (current workaround).

* Install Java 8, Maven and git
* Clone repo with `git clone https://github.com/philipptrenz/conex.io/` and switch to this folder
* Open `src/main/java/resources/application.properties` and configure `fhem.url`, `fhem.port` as well as the optional credentials to your FHEM installation
* Run with `mvn spring-boot:run` *OR* generate a runnable JAR with `mvn package` (can be found in the `target` folder)
*NOTE:* If you encounter any problems by packaging with the tests use `mvn package -Dmaven.test.skip=true`

The software fetches all devices via `jsonlist2` on boot and receives updates by `longpoll`. Also on global events (fhem.cfg saved, new devices installed, ...) all data gets updated with `jsonlist2` to stay in sync, no reboot is required.

## Helpful notes

This API was partly generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project. 

The underlying library integrating swagger to SpringBoot is [springfox](https://github.com/springfox/springfox)  

You can view the api documentation in swagger-ui by pointing to  http://localhost:8080/v0/

Change default api port value in application.properties
